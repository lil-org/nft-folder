{
  "kind" : "js",
  "screensaverFileName" : "Contractions",
  "value" : "(()=>{\"use strict\";const u=\"#Din V3 aP;in V2 aT;out V2 vT;V main(){gl_Position=V4(aP,1.);vT=aT;}\",e=\"V3 W=V3(.2125,.7154,.0721);V3 itn(V3 c){return V3(DT(c,W));}F lmi(V3 c){return W.r*c.r+W.g*c.g+W.b*c.b;}V con(IO V3 c,F v){c=CL(.5+(1.+v)*(c-.5),0.,1.);}V exo(IO V3 c,F v){c=CL((1.+v)*c,0.,1.);}V brt(IO V3 c,F v){c=CL(c+v,0.,1.);}V sat(IO V3 c,F v){c=MX(itn(c),c,v);}V3 gma(V3 c,F g){return PW(c,V3(1.\/g));}V3 lvl(V3 c,F l,F h){return MN(MA(c-V3(l),V3(0.))\/(V3(h)-V3(l)),V3(1.));}V lvls(IO V3 c,F l,F g,F h){c=gma(lvl(c,l,h),g);}\";let r,i={},s=null,t=new Image;t.src=\"data:image\/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAHCtJREFUeJx1msmPJVmW1s+5k83Ds\/eeu0dERkZkZLh7VhWbbtQCBKglFgihrgXNv8MWISEhBBJLFmwQC4SQWLVoNVCtKtRQKpquTrKUNZDzEBkZET69yezey3euuVdEtegoV2TF7x0\/Znew7zvn2jODUWesHrF6m9S7MbxL4VEIpyGyUn9NqbdZPSb1JManwQuPnnX+O8yIf0SM+KfkH0v8xLoET\/H8NIYnwb9DiZv6rxI\/IvWYUzx4THlM8dvEjxN\/AhL84xjOhJe\/HXE\/\/JjVUwrvIj7MPP+tKMGPleR\/N4R3gn87BlO\/Ww3mpo2qZsonsp60J\/KxLJtBX3fEZaTCk8Gdg0+Ul+2gr1rimriY2HqlfCRPrmz7xKvImVfOR+ETmbLp9aaJXDDnk7Izx1Xyqrc7JCkD50EZH02K57Js9aGMnDO723jcj8eFays8i8oGNp6EY36G7y2WlhbTvgqEa7iQBhBocKuVpd7v66ByDm4iHRh84ZYL4Tu5BkXk0l54Z5dLR13iBQXhk\/DWLheO+7CrER8ST3lqu+rtyy7sS+bCexeYZ25Wnb3o417GHHyKl\/up7IAJ6njmcc7DgUx\/3g8mHqnLdnPATFtirZgiLW3fuemIEg\/sZo6BZYuFmtZatZt9EchRTDyu7KKz\/ogv2+2Y+cmpqBEd42AWvQkrdd3udpKHEw+0NH1v4gqLtttnyBOjUVHya3ANXu\/2eRSuE+\/1otd2aa7qfcoTSXOUARydlQt1GExYh6vsxcFFJYk0HZX1Um0HHY7idf5ivE2k6bgoB1UPOh5h6S\/2WDGjiLQ5ysGrhQ7H4bq6pHSBxF056N1Cx2MiiUcecOOPXDXwAWMAry72NhiFicDUuHpQE8Z8HGN+JXkUK+EZ4v1ChSOO2RXuMypm3I9ZP8kHlXdqWrBvHwTzwmNk+KWTVb6IRQ+ufHvfm5faYLxsjlb5QHnPwrvdZF7ihjSxOx6ygWce+v114kQqP+kz5F8Qru37w2RegeMDPhqyVcwH7XsOi0NwF5OOTJwfYe9SjnsFH8ZgL4KOCk\/McZeBI8kCfAr2VZQ1Nto0j\/OKi4p9xeOCRne51ZfYErp5mFcxK2mqZNyju9iaSyy+at\/Km5ghuCa\/BL\/0+lJhz7dvFXVIHGOOY3Y9c+7ug+8qDsjTK59f3Uj+qPr7eelx3Yifnn1+s1WXePioOwafSqaSuFVUbG74MhJi1nk1xVJBDFTDXK5v+CoG5U33dt\/g0SeTk3HkmgeXPG3pZr\/oFg35klxGmQW\/f6mEH5bdUFEsqHB0oyivHlzxuKHNbpD4WFIJbqgs6EoftrTdDF3XSv7cUQFe0zUfbmi\/WTZ9R7oQnhsqarpUyLPbrJu+J1ORyylzlDXkzHhDO79qup5sI7+CW3Itdu644f1o\/hH\/4JS06DGpUwpnlD0l+x75f0x\/eE78Dql3yDwVjr+r9yj\/J\/SH7xE9Io2Pzijio1PK3iPzT+mPEkc89JvOCRbh3iP9z+i\/nBM9Tjzlj7jcOZX\/nH5wTnGOBzwjP\/N\/KTzM93N2G49s2b+iH+KfiH9yx9+V2zOmebdcmjhE7ljVU8h9MBBdLGZZLnVcRG5gEUG4BYcylnmvVRcJk1EGX0xRTxO2HJVZB2mK4g+1j5kPWvJg0k2nTZd45QkCpXwgj3jdaTvz0gfEJx4o163Nobmz7GZjUDHQCB1Vrck7\/BeLANn1Xk9Qs2jK70D+xpa2dYB+R3en3xlkUY8tb+tZ76dbnba6b43v1Kzr8BSfdD0a3daGOhZvymOwGJhwr03baK7VviLO4AMwPtH1qHRTGl3rA\/wnC2xDMqaICqAsjG3UoYBRzoaV4nHbuXGlGvFsZJFs8iUOwXTnfa\/HAblG+AD0dTLs8QudxgAOg9b1dMt14q0CnwZ9U\/mdzITIojhrA\/1W1Jubatrn8AGOCleNVKu2UXZhrhGfizFBXjFzAbxTrlc3VdzJ8kISo\/hDrbqWs9Zs8OhniRtwD940UEuzLxM3kFwsV2SzOKsGdehFXzm7JhshcdDduIBOk+1MOMJMXM96rMF78Dh1hoRvtnBEVhpe30G\/KXaK1hCKDXQdxZTw1jVL7E94FkoJ4Qp\/oDaNqxfQLkPCtzsTIa6KeF+bUmRa8VKpYr81AcHCK4vrltiNSwbfSR5xiNGsT6G7LLqr\/frg7SX2nMXyHHf5OtLARc9x7b29iOKh2q\/abBXMABNgv8KMXowcDeKH1q0CDyp0FJfRG8TDplUc6nwVkT9ifY6w4pe4edh97Jpc8nBomNaw4atUkIC3xWp0g8JuZMxI4rhu7JDnkC1INVotoKvXE2YI5mq6h0V9yEoMi22hbL3dxJuJsLhHeX1jC60z1I3KVMsNb4Qv1nl7TSA5u0K5ZiXaiuUc1kV7pcvES+3q1Q1fj3DixTrrr2xJFtxp16yvFbgxwzJfXGWN0hW7jF1zdKM2KY\/wAruuxP2w7Y5uKPFumQ9XVafwWJoSaacb2h7gxmb9tO6x9CK9WzwfKD8N9Hg\/rusWvrYQYmpSPewfPrA7HNfNguJACuqOn16eb0L8UdUsiRfppyWC9WK74xonVdOTxsylj2JPqNsibc1JVS3I3n0UFzQ57PWNOarqBbnhLn644yfCiz7dyYICeBYD76L5F\/yTJ2\/o7rnoK32Hsn9Nf\/LHwiHhJvGQuPs39JMfoQcgfvJa1wN84N\/Sn\/6Y\/KNU4p+\/5vzv6M9\/Ijwiz5v839PP\/oz82xSfkD6leH7L6T\/Sh+9LPKU8r\/l\/ov\/7s5Tnnbv7PBUbCaZ4R7U2a8KtHjvot+ir6HSrM9SuzW9wRaVqtWujWH0heu9V0mPwBjtE\/AFc4v9SLnrvU56sjbEiuuORRpGbTq4bUtl8Fz9qqjlxqt\/gPEG+T11ms9L4HBXZFEzw6F0gT6SMM3mhPAppF8TdlOg66irljMsVZUTgWnRd5JWYrbW5ZouHVOLDHSdjdaaUEQ5zwK+kCUKNZtgqhSddOCYozBziH52yiDfSnAQWjucbTYB1Wicu8eyTkdXfbWquGg2j2UnDARUVfUXZ1NZcNHpsKOkxnAQKG8dctRVKFx1q3ooxhdFA5vzoVIeisFZU622OajGOooDRO1WVXFaKa95neDD8xMkfNJcFikitSz5kNOFB4ih1v1LCSzzcWvoKGUPiENtSZZCNUo+wYZloEa1gqnOUzajjoYwq3+9M0KLT8dDooiPwsWeVH3Y6aIguBlaLn0vdv1AMDgUlEt6Yog1VpwkSXowSTzxixBhVQ2WnVAtdn1L+xBtwLrtoO73NPOLNLVdZHXJ4WaMxcXM8VCLWlFVUNZTVei8cmi58NM1pvhqzPtqGdc8MrWQxMqqrbHUo+pjVSri6402VD4e8xzOjVM+at4c7bvtDPgRdo41XWoFjIpjaKuv34KgONLjeIR51PzeFbcdsCGWtTIv4mStucteOiK9aZds5XvIg3rV7By9rU7ze76XRYfzjUbG4rno1YgCV5sFvaYML+HZZrK7giCjW8RTywm\/VRuy7HfLVVYHpv+Vw3A22XWgXxfoavZHumDodh5nr0HRuJdz2SuEjeJDaIj62fYY8g3ELmBejmoTmkgy4z5ZXxVI4wUMXNMdT17nhKl+aYmA8\/dRj\/2xlwPABlAwFJHlBu0H0NWTYoRt\/VEKni0EUetbvgFZddFo4mjK+0+mAUo92YZUjDzovndyAEg+0DasC+g1ul8k0eukZYuJSMgwk5jqkj4TvwyorF5SlW9KQfFz3jheLu\/iluAHkK9CBzH\/gT39CIekxnUnlPetu+AP64ldJpyH5773WY\/Wf6dnHND0UPeazxM+Srv8RvfiUvnmbwm9y9V\/p8nN6+ZD8ExFvSDihhfgu6f9Guy\/o+iFN75BH25A4gf+A9l\/S7hF99YgOZ6TxUeLmjyl+TRc\/pudv0\/ZUbqk4nfuBDD5goOtRzn9ChJIqaFbS41bbJoTX+h1mneZG5+D1HWc55\/FUsfhGwIRB16ObZQ4\/FeKzNvE8cX3LUcAi3kr5LfV9vOPYmbqCulBe3MZH6QcarrUrwWOOPsTJUVUk+EB417OFUhtUWNBXdauvUJcJLbNV1qIKnVAbz1y\/5hIvdyMD+w1Ocx6ZCKnjZ27kYCaI+2iJn7lyCtfFk6LkusLTsZRRNvE37ififlM88sOsdBptxK+Y4jtZznmhs1lfXfDSQEQ0Fy5TMKws1wJNGBV0HR+xxlXxUWbIQadhcKmOxx+t8VHyMnHDZHwi4dGIYcEWlZ3bvZhuSE4L2ShtjDJpWVIeFM9oYeCvyhh9y4P4kpwWwokUOio7wzQR4gPQV0g1vOngwkGFKekuVjirGVsFMjfldMCKqCi6W0ZXqbwOVaV8RntDU+JTEV0jUl1WKKP5Nc8C4rMyFih4s8SNzA4cytXkSs4qthkfTMR10YKOOtqas5LwW5hBcC95woSivWJp9guVZWq0IOTRSpn6zKKcHmLVsmv19k5fuclsNeYLX6KBhAfpQ9J75trpZsy6mHcq1q+5rh03o+t90RpuoG7TQRoU9MFWNZNr4U3a1Bq7Ea6HganGBnDxLA1vUohXJLw2UzNZcDwhFWQecyp50HyOjQd3tc7BtZxrYWDwgcdueZ1Bj3sxMohm5B1jBdrOoF5fmAymW0e4AfSYRY9b210hPod+99BjrOqO5IZabq\/R17uF0q1Ie4qHAZex2zj4K8y+FWlnhfzQ8nLqN3C3vEdpiLSI3WMiprYgcHQUPRpI5hbx+1HiC+SxWJYej75WkBa9Rx50aKd5L+Kar8nPOl1Bdw9x7aC7bkn5SswBOk01+BjXNuvIrkSqIcai34nTsbWdiH22JJviUcZS4roRjlTyK93MJzrCQpFZSCq4je6kwdhgnx\/D+6RJkFQL4XCDLfmDnMaSpIJ7LMW1pCFByWP+gO3Paf9ndPUWXT8V5a5OyXyX1A8p\/4amn9FX9+jqKR3eo+aUMvAfUfst+V\/Rtw\/o4hFtEX9ODVL\/d1q8oulTur5PLx7S5XtUntLye+T+hNpL8l\/T9uf02X16dU75OR1hqP+T+huanlP4nD4+om\/OpFs47qj9MbW43wsKL+nLBX1+Kt3C+q\/Q8KdUj+SvKezo61\/QJ0\/EZ9bv0rFx73BlVBbKItoSdfaIYpZE7xuuNArdvIhGdHfCNpWuFU93AR2IJotaDggmp295yLTmoB0t8lC4ydgJioe6H1xFlMJxmccsm5SanMhlGZyGDnuD+KgytLhTKSqUB6sValPsUFS7EEDraxoVVV54AO+yeJKBo1AOxsSneJLZSV2e6aS7WEfRdVSrxlilLYQL2ipulWQOHYBllOUQbxMyKfr9rN8Sj6daSX1f6BlKvHA8jbiMxVgghrMPQK2N9Apj0CZm6pajnpaDdq\/MDvaBDTWfgkFhsV8sT1pdB33M96S78lp8gJ7iV6EOLNLrSd\/pK3QXdkGJa88q9SJyYYgIKlksAUYht8HixEnvg4nCoeBRXsPwnQ94I80EehdIh5pdCdzHKXHYg6ZktzOfordzHgxsvi4+gmbG1JQog7peJu72fkxxzlDonA08yzGuJfpK4hteXgrhI3Dt5VxRbgi\/g54GBZ\/NjHUQZzkhTt7kJ1kulhu1GLYYHKUb3WNdsGbSfAnnZEzIM+FOsLmMwsxibFE6L7kuNhOkB2Iuqcw8m8JHKCfJJ9jBlF7bsPhAda7qydTR1SqvDJx1PmAKBXvwKtlWZTAAiBz6Q3SYk+gxHhiFFoksHVREPKx6agJUwiXOiWPdPa7UBlWRTFCBkUAsveTHDaHBlYNOZQsUDmqUGcXD5A91arjRlOVSyEyJy0TUAe0R58IxHbNDB9O8o\/otdBeSnLUi4axH6bDabLfYmkq4axUaSDRk6Jh06\/b9VpfaVMK5UmREp8F34IU2pZp7l9v4xm46ide4IaRCb6mmSfLbTb9VyIO7r1UGLofB6PjUTb+HfmBgRhpITLifUosbEleFwkcZ\/mnAOZjluYYI1qRRavfkOjItwZkOKxFdLkWSweV0qEt8TdTAL0WhbZ8OdmpU5RJP6dWlruSjoiXb0h5yBhvpxFu4ksyoWWxzxxvxECpggsLdnGcgP\/NceF5JTokfsPKEEjjmQnI568Yio6X8EZ+9orCVDf7yC\/rlQxrPaNXTg\/fpbfTqB+ljLl\/QhydShYPf\/4B+C\/UMHoiWbib6X1\/QxRktF3T\/Q\/od7C6s9JK2H9NPn9HXp8JPfkF\/I4f\/kb9Hh6\/o\/W\/p06c0DHTyK\/qbhZyW+Ac0XdIHH9AvHlM\/0NEn9LcxEkvxbRoP9OGv6IM91eCf0e\/+lA5azoJQSv3iU3p\/T9kp3TPmoTcoTmWToYq5n4WdHWsKDkW9QXoUs74Gt\/HGjZW0a9lk5D0jB4+tft+Fyol+5ySOEOVR9IXiExtRS5ao\/Sgf8\/T2S06sFXg0vkjcF+ASb5nXljZ2zGWKkc7KybacQMeVpfsOfjJh0qdKxyzGIC9YB41LwFJCbehUZO6g7AWZZTzRfqRgRb8ls95rc4FtRid4iBNHVY94tTHqedB9ODGxZdFpPHVxNLzV6llA43tvESsYRqpL4t7xDbgHP66juE3aI5CnxAOtw9ESCiuaWwi3kucbTydhtaR0vhTBw8HxNavnPl7E5QAxj4cYK\/hAhGtBj9NxSqFCfttYTHLDchgENwiFiuCU+K0eR6kGS43UszFNqM1V0FAH3hGCs2QCnDiy80HzJuQqHtHsD2OA5WKidoovUN7Ee+m8CLsaEwTDoq3mF9Et4gOWAYDDtBXmCmP+JuAhvM+pxjZ0HmXBknhCxbEL1Hxhj\/aJg0gyPEsGkjilC8SAtYdWJj0WvU8cEyHif8vTG3bpx+GYMIuo0OjISfnMCYowiYlA9eSVtSYlKyM85Zfrkri6eJq+5cij0yGO5Id14EmBlZ+ORRQvcwoFBQoH2IW8EUHVlEcnXz5Q6LMUFkPxXE3sXbS59F+4IWWQcOYeTQ9aE63RDDA+EpdJBrTXUktggXGjiFcy\/cmwtOTAROBvlrflPq0MHJCj5PwLHHuf5HwFJXoatSQXI2uehsWeoK+V6KvNcfkgJ2GG\/MzhPjAUjEQ6KXlxdL0Y5T1ApRSqt0IqFjkWpHDTj6qUJJyJr6v0qOPyV\/0kE5S4pDLylQ6s2AYdvbwEgENzOjxFEjzt\/rr2mDiYADs2Nr3nkT\/TBco\/cGmj0dbqxFFPDd+Z9RW6C\/\/LoNOl6LEf6ID\/X5MpRKptQTk0BWnAWwxb3ivjV\/BpmTh6iX2q12VIjlTi8jUTuEoriq7KxHPK5RyJoFybjsrENaQ9ozyTzgvKtW3FasSCoBgpHsONjr6EnzRSDaPuxE5xmWwxbz7gv5Ue1\/BINPKjZ\/RT2NWK1s\/o7\/25tMLCa\/r8in44ifssn9Pff59GK68I0P18taf\/8QXdrKUZ+P7\/odGlI6YlPZvof39JL9fUX9L3P0gceVb0UtH7z+nFMVUb+v2f0yEj\/5bEXzj62Ut6dkL5hv7hL+mA+Lck\/jqnD6\/oqxOyB\/oHH0meCL6mTUs\/38jVM6PuT7WSL4WQvIrsDR9noqTQ47HVocTj7SmLneMjGzY0VdD1VvlCik2U7o3jwbEjWEfmO+1LL2V4EZpCmkQsMbpw4ZVwLqXr6FD9kc+Qv9ZThSTYYKEqCZXRDhUzWeGtl3evVSgqyDSjU1PwmVL7zscsSOtRxEbRlY7O8CnaMrXT6lsfX4bFQI91vBFjQtnpaMvqQni9pgc6XouRE\/QelijfbHgVqiw+zOiVLCGcysBa+drThS\/K+CDHvoBvRI+7nZhvwOWGTrDxRBalFEYZzVtP1x4t4pFNz2Xa16JKB0833oY4KCklZi5KgipgE3Tq0ncIR0Mjr9Ph0ddafRFUGY9Zjj3wW340CvxCqc9YF+H+Ihzu9JigLBeaPwkm4+Pad\/Lw3fGXmj8OKotHD7BjwQ8wREIp+9LwJx5jWt+XU1BwGfBW0ytNH2Ed4vKEknUcAuR1BxPQ9HGIZeiPUPKml\/XIv5N4\/kgWZ3EsZhQMnYl4x1s9xvNi5bWpnL+iX7vVaSXvHvBXIROxTYY1v72FMCMCz5VwJGNxcDkEiZNE1DOfpNMUDiHfC29njo4KSeBx0MmN2Ewnj+s2SKclyXlkumK9QjWYfCDIt2WggwQTviRehl58IJ7LaRvEFXWJknfZychEJ+QQHGmDdBHyGkP6gcTFSVk4pSObWz7iPjAR8qnkS\/c2G5Z8Rytx5DGvuZIbYpm+v8iVrPTM7Rt5vBgrUkWaOQovbCH3dFd4yHCABxn5UWI5YjQ3OTp06G6Cwindgr9xwtF8zTy93hAv22bobrVOraYYmbzewBWmnaSFLeF\/WM74a76XnOlHickkLt6HbSv9mJLGTNxQxED8AbWbSl+uEntmnjkU\/XvQY9ekcsmJ9FonDws+ftaKLYBHNJAWno3P5Qpfd5TJqaDILlwpw68kh\/wmvQWCjZgM1vsGb6XW\/zXHr7jEn0v7Jg4Df4DhyiVIVvolzCdx6D0KX8TP\/MX8paZCItXM5VXkc\/7rn4hN0AOKa9r29MuRvkzN7O9\/lnT3vuj0fkEfkXBsrO9\/KfpN94Sjj\/mEhUMofu8ZjZiF+0TgS\/pM0y9l4en3vkn8SF5QT2v63NFnhD1Pf\/dbUdlwnN5iHNOX2S3\/Oy\/TlRDfkT+mr0v6mOiG6HcviJ4RpY4Kfz+v6AsIEXR\/KjR3Xl4OVMGVERV2JU+9BZ96tKdejmQqQuEK9TiA59qDQ9oLj3ktjSweZnDKEq+FmzIWBg5OMfHQoYdE7Ro0uJM3tJ4sCmsP8QcvgirwL+EjpnvmnVwXju4Sn8ALjTuQeLklWYeMRUFPiY2UzN5DkkVfI2\/lRuWrLLKEKGb3Uk61MI40o8KtfBFFjr90bFhmRAoTJVzOPyDVJsob17RVJH+GRyK97bWhEtXi9OY0k\/pFilMZTiW3J9\/EEV6wfAU3+OhiKRPBoyiFkwHkclQAb8UEOZaK9kwOjpIe8ycxNr45kqseaC\/6vVN0YfhTT12ojviebJW96PFGC\/8MPUooj+iE0AIkjjyXmj8LNCCejgfMxR6yO3P63MdlyE943Uuji5ZLfONK0xc+rkNxj1YdxjbGmSP+Kx+\/DtkJrdA0446CHHXQlSH0Rl8Hp2hp5Xt4p5DVJHNK7OxVUAvsPfEB780sW5LuRVDdLYdOy4zP\/NugWm6lyrrlYh17pm+ZWrTNLDzoVKNr2jE9Z25e85RfyzR9gyYttMeJ395P4l+RFCZHGPBWJjqIvKKnoS8DVqOusbHlXRzHZBC3+iquJYZCyThEwWSHS4\/5l3F6zUXXhZu5BobapQvH\/x+fEhdnSz7waz7nmbmd5fINHuWLTsKTO6D3OPWz5JKoLktHNdckKNeUNOMxqbxscZU6L+9FxEg8Kw0ixZOcRKaIqN7knF7jY0p0uonkePqWy9crohxvxtkA9Bvx8O0gEymZ3uBpwLNbJJ6M7MlNHjUUGkbmxMW0ncc4XkJ0M2VcVHLEx3JSKbc4XuQk34KSNk2+pzxzjfhMifHBsxJXd\/HXiSs5p0AwJcPC6KZrq8QKbbK51zxsnHRqmGMoiHxFJHHM3dZEjX4Pkfo2Xv78P8eEDVQZf8IsAAAAAElFTkSuQmCC\",t.onload=()=>{new o};class V{constructor(u){this.d=u,this.c()}c(){this.u=!1;let u=function(u){let e=parseInt(u.substr(0,8),16),r=parseInt(u.substr(8,8),16),i=parseInt(u.substr(16,8),16),s=parseInt(u.substr(24,8),16);return function(){e|=0,r|=0,i|=0,s|=0;let u=(e+r|0)+s|0;return s=s+1|0,e=r^r>>>9,r=i+(i<<3)|0,i=i<<21|i>>>11,i=i+u|0,(u>>>0)\/4294967296}};this.A=new u(this.d.hash.substr(2,32)),this.B=new u(this.d.hash.substr(34,32));for(let u=0;u<1e6;u+=2)this.A(),this.B()}dec(){return this.u=!this.u,this.u?this.A():this.B()}num(u,e){return u+(e-u)*this.dec()}int(u,e){return Math.floor(this.num(u,e+1))}chc(u){return u[this.int(0,u.length-1)]}}let n=\"#version 300 es\\n#define I int\\n#define F float\\n#define BL bool\\n#define V2 vec2\\n#define V3 vec3\\n#define V4 vec4\\n#define V void\\n#define IO inout\\n#define U uniform\\nprecision highp I;precision highp F;\\n#define CL clamp\\n#define DT dot\\n#define MX mix\\n#define MA max\\n#define MN min\\n#define PW pow\\n#define FL floor\\n#define FR fract\\n#define TX texture\\n#define AS abs\\n#define SQ sqrt\\n#define LN length\\n#define SS smoothstep\\n#define AA 3\\n#define TAU 6.28318\\n#define FG .005\\n#define TP 2.*.2\\n#define BT 2.*0.715\\n#define LG 1.\/2.65\\n#define SM LG*.8\\n#define FM 1e38\\n#define LA 0.\\n#define HA .045\\n#define LSZ 64.0\\n#define CL01(T) CL((T),0.,1.)\\n#define SSCL01(T) SS(0.,1.,CL01(T))\\n#define MP01(T,a,b) MP((T),0.,1.,(a),(b))\\nF MP(F n,F a1,F b1,F a2,F b2){return ((n-a1)\/(b1-a1))*(b2-a2)+a2;}\";class a{constructor(u,i,t,V,a){this.P=this.mkp(u.replace(\"#D\",n).replace(\"#A\",e),i.replace(\"#D\",n).replace(\"#C\",\"V3 rgb2xyz(V3 c){V3 T;T.x=(c.r>.04045)?PW((c.r+.055)\/1.055,2.4):c.r\/12.92;T.y=(c.g>.04045)?PW((c.g+.055)\/1.055,2.4):c.g\/12.92,T.z=(c.b>.04045)?PW((c.b+.055)\/1.055,2.4):c.b\/12.92;return 100.*T*mat3(.4124,.3576,.1805,.2126,.7152,.0722,.0193,.1192,.9505);}V3 xyz2lab(V3 c){V3 n=c\/V3(95.047,100,108.883);V3 v;v.x=(n.x>.008856)?PW(n.x,1.\/3.):(7.787*n.x)+(16.\/116.);v.y=(n.y>.008856)?PW(n.y,1.\/3.):(7.787*n.y)+(16.\/116.);v.z=(n.z>.008856)?PW(n.z,1.\/3.):(7.787*n.z)+(16.\/116.);return V3((116.*v.y)-16.,500.*(v.x-v.y),200.*(v.y-v.z));}V3 rgb2lab(V3 c){V3 L=xyz2lab(rgb2xyz(c));return V3(L.x\/100.,.5+.5*(L.y\/127.),.5+.5*(L.z\/127.));}V3 lab2xyz(V3 c){F Y=(c.x+16.)\/116.;F X=c.y\/500.+Y;F Z=Y-c.z\/200.;return V3(95.047*((X>.206897)?X*X*X:(X-16.\/116.)\/7.787),100.000*((Y>.206897)?Y*Y*Y:(Y-16.\/116.)\/7.787),108.883*((Z>.206897)?Z*Z*Z:(Z-16.\/116.)\/7.787));}V3 xyz2rgb(V3 c){V3 v=c\/100.*mat3(3.2406,-1.5372,-.4986,-.9689,1.8758,.0415,.0557,-.2040,1.0570);V3 r;r.x=(v.r>.0031308)?((1.055*PW(v.r,(1.\/2.4)))-.055):12.92*v.r;r.y=(v.g>.0031308)?((1.055*PW(v.g,(1.\/2.4)))-.055):12.92*v.g;r.z=(v.b>.0031308)?((1.055*PW(v.b,(1.\/2.4)))-.055):12.92*v.b;return r;}V3 lab2rgb(V3 c){return CL01(xyz2rgb(lab2xyz(V3(100.*c.x,2.*127.*(c.y-.5),2.*127.*(c.z-.5)))));}V3 CR(F T,V3 D,V3 C,V3 B,V3 A){return .5*((2.*B)+(-A+C)*T+(2.*A-5.*B+4.*C-D)*T*T+(-A+3.*B-3.*C+D)*T*T*T);}V3 ramp(F T,V3 A,V3 B,V3 C,V3 D,V4 P){F AB=P.y-P.x;F BC=P.z-P.y;F CD=P.w-P.z;F iAB=CL01((T-P.x)\/AB);F iBC=CL01((T-P.y)\/BC);F iCD=CL01((T-P.z)\/CD);V4 p=V4(1.-iAB,iAB-iBC,iBC-iCD,iCD);V3 cA=CR(p.x,A,A,B,C);V3 cB=CR(p.y,A,B,C,D);V3 cC=CR(p.z,B,C,D,D);V3 cD=D;if(T<P.y)return cA;if(T<P.z)return cB;if(T<P.w)return cC;return cD;}\").replace(\"#S\",\"I SC(F a,F b,F c,out V3 r){F p=b-a*a\/3.;F q=a*(2.*a*a-9.*b)\/27.+c;F p3=p*p*p;F d=q*q+4.*p3\/27.;F O=-a\/3.;if(d>=0.){F z=SQ(d);F u=(-q+z)\/2.;F v=(-q-z)\/2.;u=sign(u)*PW(AS(u),1.\/3.);v=sign(v)*PW(AS(v),1.\/3.);r[0]=O+u+v;F f=((r[0]+a)*r[0]+b)*r[0]+c;F f1=(3.*r[0]+2.*a)*r[0]+b;r[0]-=f\/f1;return 1;}F u=SQ(-p\/3.);F v=acos(-SQ(-27.\/p3)*q\/2.)\/3.;F m=cos(v),n=sin(v)*1.732050808;r[0]=O+u*(m+m);r[1]=O-u*(n+m);r[2]=O+u*(n-m);V3 f=((r+a)*r+b)*r+c;V3 f1=(3.*r+2.*a)*r+b;r-=f\/f1;return 3;}F CBS(V2 uv,V2 p0,V2 p1,V2 p2,V2 p3){F cu=(-p0.y+3.*p1.y-3.*p2.y+p3.y);F qu=(3.*p0.y-6.*p1.y+3.*p2.y);F li=(-3.*p0.y+3.*p1.y);F co=p0.y-uv.y;V3 R;I nR=SC(qu\/cu,li\/cu,co\/cu,R);I n_ints=0;for(I i=0;i<3;i++){if(i<nR){if(R[i]>=0.&&R[i]<=1.){F x_pos=((((-p0.x+3.*p1.x-3.*p2.x+p3.x)*R[i]+(3.*p0.x-6.*p1.x+3.*p2.x))*R[i])+(-3.*p0.x+3.*p1.x))*R[i]+p0.x;if(x_pos<uv.x){n_ints++;}}}}V2 T1=p0.xy-p1.xy;V2 T2=p2.xy-p3.xy;V2 N1=V2(T1.y,-T1.x);V2 N2=V2(T2.y,-T2.x);if(p0.y<p1.y){if((uv.y<=p0.y)&&(DT(uv-p0.xy,N1)<0.)){n_ints++;}}else{if(!(uv.y<=p0.y)&&!(DT(uv-p0.xy,N1)<0.)){n_ints++;}}if(p2.y<p3.y){if(!(uv.y<=p3.y)&&DT(uv-p3.xy,N2)<0.){n_ints++;}}else{if((uv.y<=p3.y)&&!(DT(uv-p3.xy,N2)<0.)){n_ints++;}}if(n_ints==0||n_ints==2||n_ints==4){return 1.;}else{return-1.;}}F CBNI(F t,V2 a0,V2 a1,V2 a2,V2 A){V2 A2=a2+t*A;V2 A1=a1+t*A2;V2 B2=A2+t*A;V2 UP=a0+t*A1;V2 T=A1+t*B2;F l_tang=DT(T,T);return t-.35*DT(T,UP)\/l_tang;}F CBDAq(V2 uv,V2 p0,V2 p1,V2 p2,V2 p3){V2 A=(-p0+3.*p1-3.*p2+p3);V2 B=(3.*p0-6.*p1+3.*p2);V2 C=(-3.*p0+3.*p1);V2 D=p0-uv;F d0=1e38;F t0=0.;F t;for(I i=0;i<3;i++){t=t0;for(I j=0;j<16;j++){t=CBNI(t,D,C,B,A);}t=CL01(t);V2 UP=((A*t+B)*t+C)*t+D;d0=MN(d0,DT(UP,UP));t0+=1.\/F(3-1);}return d0;}F CBD(V2 uv,V2 p0,V2 p1,V2 p2,V2 p3){return SQ(CBDAq(uv,p0,p1,p2,p3));}F sdB(V2 p,V2 b){V2 d=AS(p)-b;return LN(MA(d,0.))+MN(MA(d.x,d.y),0.);}F sdC(V2 p,F r){return LN(p)-r;}F sdHC(V2 p,F r){return MA(LN(p)-r,sdB(p-V2(0.,r),V2(r)));}F opI(F a,F b){return MA(a,b);}F opSI(F a,F b,F k){V2 IS=V2(a+k,b+k);IS=MA(IS,0.);F OD=LN(IS);F SI=opI(a,b);F ID=MN(SI,-k);return OD+ID;}F opSS(F a,F b,F k){return opSI(a,-b,k);}V sincos(F a,out F s,out F c){s=sin(a);c=cos(a);}V2 opR(V2 p,F r){F s,c;sincos(r,s,c);return V2(c*p.x+s*p.y,c*p.y-s*p.x);}F eP(V2 p){F A=atan(p.y,p.x);return 1.-FR(.25+.5*(A\/(TAU*.5)))*2.;}\").replace(\"#H\",\"struct BX{F A;F B;F J;F K;};struct SHP{BL E;F D;V4 G;BX BX;};BL iBX(V2 p,BX b){return (p.x<=b.B&&p.x>=b.A&&p.y<=b.K&&p.y>=b.J);}V4 POS(F p0,F p1,F p2,F p3,F k,V4 r){F S=.5;p0+=MP01(r.x,(0.-p0)*-S,(p1-p0)*S)*k;p1+=MP01(r.y,(p1-p0)*-S,(p2-p1)*S)*k;p2+=MP01(r.z,(p2-p1)*-S,(p3-p2)*S)*k;p3+=MP01(r.w,(p3-p2)*-S,(1.-p3)*S)*k;return V4(p0,p1,p2,p3);}V eL(V2 p,IO SHP s){if(!iBX(p,s.BX)){s.E=false;return;}s.E=true;s.D=sdB(p,V2(.0075,1.5));}V eO(V2 p,IO SHP s,F a,F t,F r,BL bB){if(!iBX(p,s.BX)){s.E=false;return;}a*=TAU;V2 P=opR(p,TAU*-.25);P+=V2(1.,0.);P+=V2(0.,MP(uA,LA,HA,-.0025,0.));P=opR(P,a);P+=V2(-t,0.);P+=V2(0.,-FG);s.E=true;s.D=sdHC(P,r);s.G=V4(sdC(P,r),LN(P.x+r),LN(P.y-r),eP(P))\/(r\/(bB?LG:SM));}V eS(V2 p,IO SHP s,F a,F t,F r,BL bB){if(!iBX(p,s.BX)){s.E=false;return;}a*=TAU;F d=FM;F S=FM;F D=FM;F W=MP(uA,LA,HA,.15,.3);F H=r*MP(uA,LA,HA,1.05,.85);V2 p0=V2(0.,r);V2 p1=V2(-W,H);V2 p2=V2(-W,-H);V2 p3=V2(0.,-r);V2 P=p;P=opR(P,0.);P+=V2(0.,-1.);P+=V2(MP(uA,LA,HA,-.0025,0.),0.);P=opR(P,a);P+=V2(-.005,t);S=MN(S,CBS(P,p0,p1,p2,p3));D=MN(D,CBD(P,p0,p1,p2,p3));if(P.x>0.){S=FM;}if(S<=0.){d=MN(d,0.-D);}else{d=MN(d,D);}s.D=d+.5;s.E=true;}V eR(V2 p,IO SHP s,F a,F t,F r,F i,BL bB){if(!iBX(p,s.BX)){s.E=false;return;}a*=TAU;F d=FM;F S=FM;F D=FM;F SC=1.+(i>1.?PW(MP(i,0.,8.,.2,1.8),2.8):0.);F W=r*uRS*SC*(bB?1.:MP(i,1.,8.,1.,1.15));F H=r*MP(uRS,1.15,1.5,1.1,1.3)*SC;V2 p0=V2(0.+FG,r);V2 p1=V2(0.+FG,H);V2 p2=V2(W,(H+W)*.5);V2 p3=V2(W,0.+FG);F z=MP(i,1.,8.,0.,.25);p1+=V2(0.,z);p2+=V2(z,-z);p3+=V2(z,0.);V2 P=p;P=opR(P,0.);P+=V2(0.,-1.);P+=V2(MP(uA,LA,HA,-.005,0.),0.);P=opR(P,a);P+=V2(0.,t);D=MN(D,CBD(P,p0,V2(0.,H*.3),V2(0.,-H*.3),V2(p0.x,-p0.y)));S=MN(S,CBS(P,p0,p1,p2,p3));D=MN(D,CBD(P,p0,p1,p2,p3));P=V2(P.x,-P.y);S=opI(S,CBS(P,p0,p1,p2,p3));D=MN(D,CBD(P,p0,p1,p2,p3));if(S<=0.){d=MN(d,0.-D);}else{d=MN(d,D);}F b=sdB(p-V2(0.,1.2),V2(6.,1.));F k=MP(PW(i,0.42),1.,8.,.05,1.6);k*=i>4.?MP(i,3.5,8.,.2,3.8):1.;if(bB){s.D=opSS(d,b,k);}else{s.D=opSI(d,b,k);}s.E=true;s.G=V4(sdC(P,r*(W+H)*SC),LN(P.x-W-.15)\/(W*2.),LN(P.y-H)\/(H*2.),eP(P));}V dL(IO V3 c,V2 p,SHP s,V3 cs[4]){V3 C=rgb2lab(c);V3 H=rgb2lab(cs[0]);V3 J=rgb2lab(cs[1]);V3 K=rgb2lab(cs[2]);V3 L=rgb2lab(cs[3]);F mY=CL01(PW(1.-(.5+p.y\/2.),.5));V3 R=H;if(uLS==2){R=MX(H,J,mY);}else if(uLS==3){V4 lp=uLCP;V4 P=POS(lp.x,lp.y,lp.z,lp.w,uCPS,uLCR);R=ramp(mY,H,J,K,L,P);}F f=MP(F(uLF),1.,4.,1.75,3.25);F a=MP01(mY+1.,.5,2.);F z=MP01(mY,0.,1.5)*MP(uA,LA,HA,.35,1.);F w=f*MX(0.,.04,mY)*MP(uA,LA,HA,.35,1.);V3 M;if(uLM==1||uLM==4){M=R*V3(a,1.,1.);}else if(uLM==2||uLM==5){M=MX(R,C*V3(1.-a,1.,1.),.8);f*=1.3;w*=1.3;}else if(uLM==3){M=R*V3(a*1.5,1.,1.);}F mB=1.-CL01(PW(MP(s.D,0.,z,0.,1.),w));if(s.D<0.){if(uLM==4){C=MX(V3(R.x*.7,R.y,R.z),M,(1.-(.5+p.y\/2.))*CL01(MP(f,0.,4.,.1,.3)));}else if(uLM==5){C=MX(V3(R.x*1.3,R.y,R.z),M,(1.-(.5+p.y\/2.))*CL01(MP(f,0.,4.,0.,.15)));}else{C=MX(R,M,(1.-(.5+p.y\/2.))*CL01(MP(f,0.,4.,.1,.9)));}}else{F h=uCM==6?1.2:uCM==7?1.:1.6;if(uLM==1||uLM==4){C=MX(C,V3(C.x*4.2,C.y*h,C.z*h),mB);}else{C=MX(C,M,mB*MP(F(uLF),1.,4.,.4,.8));}}c=lab2rgb(C);}V dB(IO V3 c,V2 p,V3 cs[4],V3 bl[4]){V3 A=rgb2lab(cs[0]);V3 B=rgb2lab(cs[1]);V3 C=rgb2lab(cs[2]);V3 D=rgb2lab(cs[3]);bl=V3[4](rgb2lab(bl[0]),rgb2lab(bl[1]),rgb2lab(bl[2]),rgb2lab(bl[3]));F u=.225;F b=.175;u+=MP(uOS,0.,1.1,.125,0.);b-=MP(uOS,0.,1.1,.05,0.);F mD=(p.y<u&&p.y>b)?MP(p.y,u,b,0.,1.):p.y>b?0.:1.;F mX=CL01(AS(p.x*.4)>.1?(AS(p.x*.4)-.1):0.);F mY=.5+p.y*.5;F mR=CL01(-.1+LN(p-V2(0.,1.))*.3);if(uBS==1){c=MX(A,B,(-p.y+1.)\/2.);}else{V4 P=POS(uBR[0].x*.1,.25+uBR[0].y*.2,.5+uBR[0].z*.2,.75+uBR[0].w*.2,uCPS,uBR[1]);if(uBS==2){c=ramp(mY,A,B,C,D,P);}else{c=ramp(mR,A,B,C,D,P);}}c=MX(c,MX(MX(bl[0],bl[1],.5),MX(bl[2],bl[3],.5),mD),mX);c=MX(c,rgb2lab(uFC),PW(mX,.8));c=lab2rgb(c);}V dR(I i,SHP ring,IO V3 c,V3 cols[32],V4 p[2],F k,V4 rand){F fI=F(i);F M=MP(fI,8.,1.,1.,0.);V3 A,B,C,D;if(uRM==2||uRM==3){A=rgb2lab(cols[(i*4)+0]);B=rgb2lab(cols[(i*4)+1]);C=rgb2lab(cols[(i*4)+2]);D=rgb2lab(cols[(i*4)+3]);}else{A=MX(rgb2lab(cols[0]),rgb2lab(cols[28]),M);B=MX(rgb2lab(cols[1]),rgb2lab(cols[29]),M);C=MX(rgb2lab(cols[2]),rgb2lab(cols[30]),M);D=MX(rgb2lab(cols[3]),rgb2lab(cols[31]),M);}F p0=MX(p[0].x,p[1].x,M);F p1=MX(p[0].y,p[1].y,M);F p2=MX(p[0].z,p[1].z,M);F p3=MX(p[0].w,p[1].w,M);V4 P=POS(p0,p1,p2,p3,k,rand);F m=SS(0.,1.,SS(0.,1.,PW(-ring.D,MP(fI,0.,8.,uBI*uB,.3+uBO*uB))));c=MX(c,lab2rgb(ramp(1.-ring.G.w,A,B,C,D,P)),m);}V dO(IO V3 c,SHP orb,V3 cs[4],V3 positions){F mG=orb.G.y;F mL=LN(orb.G.x);F mR=PW(1.-SS(0.,1.,PW(mL,positions.z)),1.2);F mF=(1.-SS(0.,1.,PW(mL+.05,positions.z))*1.2)*(1.-mG)+mR*mG;c=rgb2lab(cs[0]);c=MX(c,rgb2lab(cs[1]),CL01(MP(mG,0.,positions.x,1.,0.)));c=MX(c,rgb2lab(cs[2]),CL01(MP(mG,0.,positions.y,0.,1.)));c=MX(c,rgb2lab(cs[3]),mF);c=lab2rgb(c);}V dF(IO V3 c,V2 p){F m=SSCL01(AS(p.x*.6)>.1?(AS(p.x*.6)-.7):0.);V3 C=rgb2lab(c);V3 D=rgb2lab(uFC);c=lab2rgb(MX(C,D,m));}\").replace(\"#A\",e).replace(\"#T\",\"V3 m289(V3 x){return x-FL(x*(1.\/289.0))*289.0;}V4 m289(V4 x){return x-FL(x*(1.\/289.0))*289.0;}V4 prmt(V4 x){return m289(((x*34.0)+1.)*x);}V4 tyIS(V4 r){return 1.79284291400159-.85373472095314*r;}V3 fd(V3 t){return t*t*t*(t*(t*6.-15.0)+10.);}F ns(V3 P){V3 i0=m289(FL(P)),i1=m289(i0+V3(1.));V3 f0=FR(P),f1=f0-V3(1.),f=fd(f0);V4 ix=V4(i0.x,i1.x,i0.x,i1.x),iy=V4(i0.yy,i1.yy);V4 iz0=i0.zzzz,iz1=i1.zzzz;V4 ixy=prmt(prmt(ix)+iy),ixy0=prmt(ixy+iz0),ixy1=prmt(ixy+iz1);V4 gx0=ixy0*(1.\/7.),gy0=FR(FL(gx0)*(1.\/7.))-.5;V4 gx1=ixy1*(1.\/7.),gy1=FR(FL(gx1)*(1.\/7.))-.5;gx0=FR(gx0);gx1=FR(gx1);V4 gz0=V4(.5)-AS(gx0)-AS(gy0),sz0=step(gz0,V4(0.));V4 gz1=V4(.5)-AS(gx1)-AS(gy1),sz1=step(gz1,V4(0.));gx0-=sz0*(step(0.,gx0)-.5);gy0-=sz0*(step(0.,gy0)-.5);gx1-=sz1*(step(0.,gx1)-.5);gy1-=sz1*(step(0.,gy1)-.5);V3 g0=V3(gx0.x,gy0.x,gz0.x),g1=V3(gx0.y,gy0.y,gz0.y),g2=V3(gx0.z,gy0.z,gz0.z),g3=V3(gx0.w,gy0.w,gz0.w),g4=V3(gx1.x,gy1.x,gz1.x),g5=V3(gx1.y,gy1.y,gz1.y),g6=V3(gx1.z,gy1.z,gz1.z),g7=V3(gx1.w,gy1.w,gz1.w);V4 n0=tyIS(V4(DT(g0,g0),DT(g2,g2),DT(g1,g1),DT(g3,g3)));V4 n1=tyIS(V4(DT(g4,g4),DT(g6,g6),DT(g5,g5),DT(g7,g7)));g0*=n0.x;g2*=n0.y;g1*=n0.z;g3*=n0.w;g4*=n1.x;g6*=n1.y;g5*=n1.z;g7*=n1.w;V4 nz=MX(V4(DT(g0,V3(f0.x,f0.y,f0.z)),DT(g1,V3(f1.x,f0.y,f0.z)),DT(g2,V3(f0.x,f1.y,f0.z)),DT(g3,V3(f1.x,f1.y,f0.z))),V4(DT(g4,V3(f0.x,f0.y,f1.z)),DT(g5,V3(f1.x,f0.y,f1.z)),DT(g6,V3(f0.x,f1.y,f1.z)),DT(g7,V3(f1.x,f1.y,f1.z))),f.z);return 2.2*MX(MX(nz.x,nz.z,f.y),MX(nz.y,nz.w,f.y),f.x);}V2 sUV(V2 uv){F a=uR.x\/uR.y;uv.x*=2.;uv.x-=1.;uv.x*=a;return uv;}F gr(V2 uv,F z){F f;V2 UV=sUV(uv);F sc=(UV.x)*(UV.y)*z;F g=SSCL01(.1+PW((mod((mod(sc,13.0)+1.)*(mod(sc,123.0)+1.),.01)-.005)*90.0,uGP));mat2 m=mat2(1.2,1.5,-1.5,1.2)*uGB*z*.5;UV*=m;f=.5*ns(V3(UV,z));UV*=m;f+=.25*ns(V3(UV,z));UV*=m;f+=.1250*ns(V3(UV,z));UV*=m;f+=.0625*ns(V3(UV,z));f+=.1;f=CL01(f);g=MX(g*.6,g*1.6,f);return g;}V G(V2 uv,IO V3 c,F a){F m=MX(0.,gr(uv,uGS),a);V3 C=rgb2lab(c);C.x+=((m*2.)-1.)*uGA+uGA;c=lab2rgb(C);c=MX(c*1.2,c*.9,1.-PW(m,.8));}\")),this.use(),t.forEach((u=>{this[u]=r.getAttribLocation(this.P,u)})),V.forEach((u=>{this[u]=r.getUniformLocation(this.P,u)})),this.VA=r.createVertexArray(),r.BVA(this.VA),this.VB=r.CB(),r.BB(r.AB,this.VB),r.BD(r.AB,new Float32Array([-1,1,0,-1,-1,0,1,-1,0,1,1,0])),-1!==this.aP&&(r.EVA(this.aP),r.VAP(this.aP,3)),a&&(r.BB(r.AB,a),r.EVA(this.aT),r.VAP(this.aT,2)),this.IB=r.CB(),r.BB(r.EAB,this.IB),r.BD(r.EAB,new Uint16Array([0,1,2,0,2,3])),r.BVA(s),r.BB(r.AB,s),r.BB(r.EAB,s)}use(){r.useProgram(this.P)}mkp(u,e){let i=this.mks(r.VERTEX_SHADER,u),s=this.mks(r.FRAGMENT_SHADER,e),t=r.createProgram();return r.attachShader(t,i),r.attachShader(t,s),r.linkProgram(t),t}mks(u,e){let i=r.createShader(u);return r.shaderSource(i,e),r.compileShader(i),i}}let C=(u,e)=>{let r=u+e;return r>1&&(r-=1),r<0&&(r+=1),r},B=(u,e,r)=>{let i=[...u];switch(e){case 0:i[1]-=i[1]*r,i[2]+=(1-i[2])*r;break;case 1:i[1]+=(1-i[1])*r,i[2]-=i[2]*r}return i},c=u=>{let e,r,i,s=u[0],t=u[1],V=u[2],n=Math.floor(6*s),a=6*s-n,C=V*(1-t),B=V*(1-a*t),c=V*(1-(1-a)*t);switch(n%6){case 0:e=V,r=c,i=C;break;case 1:e=B,r=V,i=C;break;case 2:e=C,r=V,i=c;break;case 3:e=C,r=B,i=V;break;case 4:e=c,r=C,i=V;break;case 5:e=V,r=C,i=B}let p=Math.max(e,r,i),F=Math.min(e,r,i),l=(p+F)\/2;if(p==F)s=t=0;else{let u=p-F;switch(t=l>.5?u\/(2-p-F):u\/(p+F),p){case e:s=(r-i)\/u+(r<i?6:0);break;case r:s=(i-e)\/u+2;break;case i:s=(e-r)\/u+4}s\/=6}let f={h:s,s:t,l},T=.125,R=.415,S=.785,o=0,P=0,h=f.h>R-T&&f.h<R+T,A=f.h>S-T&&f.h<S+T;if((h||A)&&(h&&(P=f.h-R),A&&(P=f.h-S),P=(u=>{let e=Math.max(0,Math.min(1,u\/1));return e*e*(3-2*e)})(8*P),o=(1-P)*T*1.25),f.h+=o,f.h>1?f.h-=1:f.h<0&&(f.h+=1),s=f.h,t=f.s,l=f.l,0==t)e=r=i=l;else{let u=(u,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1\/6?u+6*(e-u)*r:r<.5?e:r<2\/3?u+(e-u)*(2\/3-r)*6:u);B=l<.5?l*(1+t):l+t-l*t,C=2*l-B,e=u(C,B,s+1\/3),r=u(C,B,s),i=u(C,B,s-1\/3)}return[e,r,i]},p=(u,e,r)=>u<=e?e:u>=r?r:u,F=(u,e,r,i,s)=>(u-e)\/(r-e)*(s-i)+i,l=(u,e,r)=>u\/1*(r-e)+e,f=(u,e)=>{let r,i=u.length;for(;0!=i;)r=Math.floor(e.dec()*i),i--,[u[i],u[r]]=[u[r],u[i]];return u},T=(u,e,r)=>u*(1-r)+e*r,R=(u,e)=>Math.round(u*e)\/e,S={line:{mode:[{v:[.775,.925],s:[.425,.225]},{v:[.525,.425],s:[.775,.875]},{v:[.775,.925],s:[.425,.225]},{v:[.525,.425],s:[.775,.875]},{v:[.525,.425],s:[.775,.875]}]},bg:{mode:[{v:[.65,.7],s:[.35,.2]},{v:[.625,.475],s:[.425,.725]}]},orbs:{v:[.55,.75],s:[.6,.4]},rings:{v:[.55,.65],s:[.65,.45]}};class o{constructor(){let e=document.createElement(\"canvas\");document.body.append(e);let s=document.createElement(\"style\");s.innerHTML=\"*{overflow:clip;}\",document.body.appendChild(s),this.C=e,this.R=new V(tokenData),function(u){let e,r=0;i.uA=u.dec()<.05?0:.005*u.int(1,10),i.uRS=1.15+.05*u.int(0,4),i.uOS=.8+.05*u.int(0,6),i.uOOT=u.int(975,1025)\/1e3,i.uOOB=u.int(975,1025)\/1e3,i.u_Hue=u.int(0,100)\/100,i.u_HueVariance=u.int(5,35)\/100,i.uCPS=u.int(10,50)\/100,i.u_ColorTheory=u.chc([1,2]),e=u.dec(),r=e<.025?7:e>=.025&&e<.125?6:e>=.125&&e<.225?5:u.chc([1,2,3,4]),i.uCM=r,e=u.dec(),r=e<.2?1:u.chc([2,3]),i.uLS=r,e=u.dec(),r=e<.1?u.chc([4,5]):e>=.1&&e<.7?u.chc([1,3]):2,i.uLM=r,e=u.dec(),r=e<.5?4:e>=.5&&e<.8?3:e>=.8&&e<.9?2:1,i.uLF=r,i.uBS=u.dec()<.7?u.chc[[2,3]]:1,i.uBM=u.int(1,2),i.uOM=u.int(1,2),i.uOV=u.int(10,50)\/100,i.uRMD=u.int(1,2),i.uRM=u.dec()<.7?2:u.dec()<.7?3:1,i.uRTB=u.chc([1,2,3,4]),i.uRV=u.int(15,90)\/100,i.uGP=3.7+.2*u.dec(),i.uGA=.5+.3*u.dec(),i.uGB=.06+.04*u.dec(),i.uGS=u.int(128,512);let s=R(u.num(.45,.55),100),t=R(u.num(.7,.8),100),V=R(u.num(.08,.14),100);i.uOTLP=s,i.uOTSP=t,i.uOTEL=V,i.uOBLP=s,i.uOBSP=t,i.uOBEL=V,i.uB=R(u.num(.225,.275),100),i.uBI=R(u.num(.225,.275),100),i.uBO=R(u.num(.225,.375),100),i.uRCTP=Array.from(new Array(2),(e=>[u.num(0,.2),u.num(.3,.45),u.num(.55,.7),u.num(.8,1)])).flat(),i.uRCBP=Array.from(new Array(2),(e=>[u.num(0,.2),u.num(.3,.45),u.num(.55,.7),u.num(.8,1)])).flat(),i.uRCR=Array.from(new Array(80),(e=>u.dec())),i.uLCP=[u.num(0,.2),u.num(.3,.45),u.num(.55,.7),u.num(.8,1)],i.uLCS=f([0,1,2,3],u),i.uLCR=Array.from(new Array(16),(e=>u.dec())),i.uBR=Array.from(new Array(28),(e=>u.dec())),i.uBCS=f([0,1,2,3],u),i.uOR=Array.from(new Array(20),(e=>u.dec())),i.uRTS=Array(8).fill([0,1,2,3]),i.uRBS=Array(8).fill([0,1,2,3]);for(let e=0;e<8;e++)i.uRTS[e]=f(i.uRTS[e],u),i.uRBS[e]=f(i.uRBS[e],u);i.uRR=Array.from(new Array(500),(e=>u.dec())),i.uAR=Array.from(new Array(10),(e=>.5*u.dec()+.5)),i.uDR=Array.from(new Array(100),(e=>u.dec()<.1?1:u.dec()<.8?Math.pow(u.dec(),3):0))}(this.R),r=this.C.getContext(\"webgl2\",{preserveDrawingBuffer:!0}),r.EAB=r.ELEMENT_ARRAY_BUFFER,r.AB=r.ARRAY_BUFFER,r.T2D=r.TEXTURE_2D,r.FB=r.FRAMEBUFFER,r.C0=r.COLOR_ATTACHMENT0,r.BB=(u,e)=>r.bindBuffer(u,e),r.BVA=u=>r.bindVertexArray(u),r.TP=(u,e)=>r.texParameteri(r.T2D,u,e),r.BT=u=>r.bindTexture(r.T2D,u),r.CT=u=>r.createTexture(),r.BFB=u=>r.bindFramebuffer(r.FB,u),r.CB=u=>r.createBuffer(),r.EVA=u=>r.enableVertexAttribArray(u),r.VAP=(u,e)=>r.vertexAttribPointer(u,e,r.FLOAT,!1,0,0),r.BD=(u,e)=>r.bufferData(u,e,r.STATIC_DRAW),r.AT=u=>r.activeTexture(u),r.DW=u=>r.drawElements(r.TRIANGLES,6,r.UNSIGNED_SHORT,0),r.U1f=(u,e)=>r.uniform1f(u,e),r.U1i=(u,e)=>r.uniform1i(u,e),r.U2v=(u,e,i)=>r.uniform2f(u,e,i),r.U3v=(u,e)=>r.uniform3fv(u,e),r.U4v=(u,e)=>r.uniform4fv(u,e);let n=(u,e)=>{r.TP(r.TEXTURE_WRAP_S,u),r.TP(r.TEXTURE_WRAP_T,u),r.TP(r.TEXTURE_MIN_FILTER,e),r.TP(r.TEXTURE_MAG_FILTER,e)};this.TR=r.CT(),r.BT(this.TR),n(r.CLAMP_TO_EDGE,r.NEAREST),this.FB=r.createFramebuffer(),r.BFB(this.FB),r.framebufferTexture2D(r.FB,r.C0,r.T2D,this.TR,0),this.TL=r.CT(),r.BT(this.TL),r.texImage2D(r.T2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t),n(r.CLAMP_TO_EDGE,r.LINEAR),this.PR=new a(u,\"#DU V2 uR;U F uA;U F uCPS;U V3 uFC;U F uRS;U F uOS;U F uOOT;U F uOOB;U V3 uOTCP;U V3 uOBCP;U F uB;U F uBI;U F uBO;U V4 uRCTP[2];U V4 uRCBP[2];U V4 uRCR[18];U I uLM;U I uLS;U I uLF;U V3 uLC[4];U V4 uLCP;U V4 uLCR;U I uBS;U V3 uBC[4];U V4 uBR[2];U V3 uOTC[4];U V3 uOBC[4];U I uRM;U V3 uRTC[32];U V3 uRBC[32];U I uCM;U F uGP;U F uGA;U F uGB;U F uGS;#C#S#A#H#Tout V4 out_0;V main(){V2 uv=gl_FragCoord.xy\/uR.xy;V3 T;SHP sL=SHP(false,FM,V4(0.),BX(-2.,2.,-1.,1.));SHP sOT=SHP(false,FM,V4(0.),BX(-1.,2.,-1.,2.));SHP sOB=SHP(false,FM,V4(0.),BX(-1.,2.,-2.,1.));SHP sST=SHP(false,FM,V4(0.),BX(-1.,2.,-1.,2.));SHP sSB=SHP(false,FM,V4(0.),BX(-1.,2.,-2.,1.));SHP sRB[9];SHP sRT[9];for(I i=0;i<=I(8.);i++){sRB[i]=SHP(false,FM,V4(0.),BX(0.,MP(F(i),0.,8.,1.5,6.),-1.2,.2));sRT[i]=SHP(false,FM,V4(0.),BX(0.,MP(F(i),0.,8.,1.5,6.),.2,1.2));}V3 BGC[4]=V3[4](uRTC[29],uRTC[30],uRBC[29],uRBC[30]);SHP r;for(I m=0;m<AA;m++){for(I n=0;n<AA;n++){V2 o=V2(F(m),F(n))\/F(AA)-.5;V2 p=(2.*(gl_FragCoord.xy+o)-uR.xy)\/uR.y;V3 C=V3(0.);if(AS(p.x)<3.){{eL(p,sL);F T=TP*uOOT;F B=BT\/uOOB;F rT=SM*uOS;F rB=LG*uOS;V2 A=V2(0.,MP(uOS,.8,1.1,.035,0.));eO(p-A,sOB,uA,B,rB,true);eO(p+A,sOT,uA,T,rT,false);eS(p+A,sST,uA,T,rT,false);eS(p-A,sSB,uA,B,rB,true);for(I i=0;i<=I(7.);i++){r=sRT[i];eR(p+A,r,uA,T,rT,F(i+1),false);sRT[i]=r;r=sRB[i];eR(p-A,r,uA,B,rB,F(i+1),true);sRB[i]=r;}}{dB(C,p,uBC,BGC);for(I i=I(8.);i>-1;i--){{if(sRT[i].E){if(sRT[i].D<0.){dR(i,sRT[i],C,uRTC,uRCTP,uCPS,uRCR[i]);}}}{if(sRB[i].E){if(sRB[i].D<0.){dR(i,sRB[i],C,uRBC,uRCBP,uCPS,uRCR[i*2]);}}}}G(uv,C,.8);if(sOT.E){if(sOT.D<0.){dO(C,sOT,uOTC,uOTCP);G(uv,C,.35);}}if(sOB.E){if(sOB.D<0.){dO(C,sOB,uOBC,uOBCP);G(uv,C,.35);}}F S=1.;S=MN(S,sOT.D);S=MN(S,sOB.D);if(S<.5&&S>0.){C=MX(C,C*PW(MP(S,0.,.5,0.,1.),.4),.3);}}F S=1.;S=MN(S,sST.D);S=MN(S,sSB.D);if(S<.5&&S>0.){C*=PW(MP(S,0.,.5,0.,1.),.7);}if(sL.E){dL(C,p,sL,uLC);if(sL.D<0.){G(uv,C,1.);}}dF(C,p);}else{C=uFC;}T+=C;}}T\/=F(AA)*F(AA);out_0=V4(T,1.);}\",[\"aP\",\"aT\"],[\"u_DebugAA\",\"u_DebugSquare\",\"uR\",\"uA\",\"uCPS\",\"uFC\",\"uRS\",\"uOS\",\"uOOT\",\"uOOB\",\"uOTCP\",\"uOBCP\",\"uB\",\"uBI\",\"uBO\",\"uRCTP\",\"uRCBP\",\"uRCR\",\"uLS\",\"uLM\",\"uLF\",\"uLC\",\"uLCP\",\"uLCR\",\"uBS\",\"uBC\",\"uBR\",\"uOTC\",\"uOBC\",\"uRM\",\"uRTC\",\"uRBC\",\"uCM\",\"uGP\",\"uGA\",\"uGB\",\"uGS\"]),this.B=r.CB(),r.BB(r.AB,this.B),r.BD(r.AB,new Float32Array([0,1,0,0,1,0,1,1])),this.PP=new a(u,\"#Din V2 vT;U V2 uR;U sampler2D uT0;U sampler2D uT1;U I uCM;out V4 out_0;#AV4 LU(V3 c,sampler2D lut){V4 T=V4(c,1.);F B=T.b*63.0;V2 Q1;Q1.y=FL(FL(B)\/8.);Q1.x=FL(B)-(Q1.y*8.);V2 Q2;Q2.y=FL(ceil(B)\/8.);Q2.x=ceil(B)-(Q2.y*8.);V2 T1;T1.x=(Q1.x*.125)+.5\/LSZ+((.125-1.\/LSZ)*T.r);T1.y=(Q1.y*.125)+.5\/LSZ+((.125-1.\/LSZ)*T.g);V2 T2;T2.x=(Q2.x*.125)+.5\/LSZ+((.125-1.\/LSZ)*T.r);T2.y=(Q2.y*.125)+.5\/LSZ+((.125-1.\/LSZ)*T.g);V4 C1=TX(lut,T1);V4 C2=TX(lut,T2);return MX(C1,C2,FR(B));}V main(){V2 uv=gl_FragCoord.xy\/uR.xy;V2 xy=vT;if(uv.x<.5){xy.x=1.-xy.x;}V3 C=TX(uT0,xy).rgb;C=MX(C,LU(C,uT1).rgb,.8);if(uCM==1){con(C,.15);sat(C,1.25);exo(C,.025);CL(C,.05,.95);}else if(uCM==2){C=gma(C,.9);brt(C,.05);sat(C,1.25);CL(C,.2,.85);con(C,.15);}else if(uCM==3){exo(C,.1);con(C,.1);sat(C,.9);CL(C,.2,.975);C=gma(C,1.05);con(C,.15);}else if(uCM==4){exo(C,.25);con(C,.15);sat(C,1.1);F L=SSCL01(lmi(C));C=MX(C*.85,C*1.05,L);C=gma(C,.95);CL(C,.05,.925);}else if(uCM==5){con(C,.1);sat(C,1.2);F L=SSCL01(PW(lmi(C),2.));C=MX(C*1.075,C,L);CL(C,.2,.95);con(C,.05);}else if(uCM==6){exo(C,-.06);con(C,-.06);con(C,.2);sat(C,1.4);brt(C,.05);CL(C,.025,.925);}else if(uCM==7){sat(C,0.);brt(C,.1);F L=SSCL01(lmi(C));C=MX(C*.8,C,L);CL(C,.15,.9);con(C,.1);}CL(C,0.,1.);lvls(C,.075,1.05,.975);out_0=V4(C,1.);}\",[\"aP\",\"aT\"],[\"uR\",\"uT0\",\"uT1\",\"uCM\"],this.B),this.postpass(),this.resize(),this.draw(),window.onresize=()=>{this.resize(),this.draw()}}resize(u,e){if(this.t=Date.now(),!u&&!e){let r=this.C.parentElement;u=r.clientWidth,e=r.clientHeight}this.w=u,this.h=e,this.C.width=this.w,this.C.height=this.h,this.C.style.width=this.w+\"px\",this.C.style.height=this.h+\"px\",r.BT(this.TR),r.texImage2D(r.T2D,0,r.RGBA,Math.ceil(this.w),Math.ceil(this.h),0,r.RGBA,r.UNSIGNED_BYTE,s)}update(){let u,e,r,s,t=i.uCM,V=6===t,n=u=>{switch(t){case 2:u.s*=.5,u.v*=.8;break;case 3:u.s*=.4,u.v*=1.2;break;case 4:u.s*=1.1,u.v*=.8;break;case 5:u.s*=1.05,u.v*=1.15;break;case 6:u.s=.5}u.v=u.v<.3?.3:u.v,u.v=u.v>.9?.9:u.v,u.s=u.s<.3?.3:u.s,u.s=u.s>1?1:u.s},a=u=>{switch(t){case 2:u[1]*=.8,u[2]*=1.1,u[2]=p(u[2],.15,.85);break;case 3:u[1]*=.8,u[1]=p(u[1],0,.5),u[2]=p(u[2],.3,.7);break;case 4:u[1]=p(u[1],.25,.9),u[2]=p(u[2],.05,.9);break;case 5:u[1]*=1.25,u[2]*=1.15,u[1]=p(u[1],.35,.9),u[2]=p(u[2],.35,.9);break;case 6:u[1]*=.4}u[0]=p(u[0],0,1),u[1]=p(u[1],0,1),u[2]=p(u[2],0,1)},F=(u,e,r)=>{a(r);let i=c(r);e[3*u]=i[0],e[3*u+1]=i[1],e[3*u+2]=i[2]},f=u=>u?0:1;e={h:i.u_Hue,s:.6,v:.3},n(e);let R=[e.h,e.s,e.v];if(V&&(R[1]*=i.uDR[99]),a(R),i.uFC=c(R),u=i.uLCR,r=S.line.mode[i.uLM-1].s,s=S.line.mode[i.uLM-1].v,e={h:i.u_Hue,s:l(u[0],r[0],r[1]),v:l(u[0],s[0],s[1])},2===t&&(e.s*=.7,e.v*=.7),i.uLC=Array(12).fill(0),1===i.uLS)F(0,i.uLC,[e.h,e.s,e.v]);else if(2===i.uLS){let r=B([C(e.h,l(u[1],-i.u_HueVariance,i.u_HueVariance)),e.s,e.v],1,.2),s=B([C(e.h,l(u[2],-i.u_HueVariance,i.u_HueVariance)),e.s,e.v],0,.2);if(2===i.uLM||5===i.uLM){let u=r;r=s,s=u}V&&(r[1]*=i.uDR[1],s[1]*=i.uDR[2]),F(0,i.uLC,r),F(1,i.uLC,s),F(2,i.uLC,r),F(3,i.uLC,s)}else{let r=B([C(e.h,l(u[1],-i.u_HueVariance,i.u_HueVariance)),e.s,e.v],f(u[5]>.5),.2*u[9]),s=B([C(e.h,l(u[2],-i.u_HueVariance,i.u_HueVariance)),e.s,e.v],f(u[6]>.5),.2*u[10]),t=B([C(e.h,l(u[3],-i.u_HueVariance,i.u_HueVariance)),e.s,e.v],f(u[7]>.5),.2*u[11]),n=B([C(e.h,l(u[4],-i.u_HueVariance,i.u_HueVariance)),e.s,e.v],f(u[8]>.5),.2*u[12]);V&&(r[1]*=i.uDR[1],s[1]*=i.uDR[2],t[1]*=i.uDR[3],n[1]*=i.uDR[4]),F(i.uLCS[0],i.uLC,r),F(i.uLCS[1],i.uLC,s),F(i.uLCS[2],i.uLC,t),F(i.uLCS[3],i.uLC,n)}if(u=i.uBR,r=S.bg.mode[i.uBM-1].s,s=S.bg.mode[i.uBM-1].v,e={h:C(i.u_Hue,u[0]>.5?.1*u[1]+.1:-.1*u[1]-.1),s:l(u[3],r[0],r[1]),v:l(u[3],s[0],s[1])},2===i.u_ColorTheory&&u[2]>.5&&(e.h=C(e.h,.5)),n(e),i.uBC=Array(12).fill(0),1===i.uBS){let r=B([C(e.h,l(u[4],-i.u_HueVariance,i.u_HueVariance)),e.s,e.v],0,.35),s=B([C(e.h,l(u[5],-i.u_HueVariance,i.u_HueVariance)),e.s,e.v],1,.35);V&&(r[1]*=i.uDR[5],s[1]*=i.uDR[6]),F(0,i.uBC,r),F(1,i.uBC,s)}else{let r=B([C(e.h,l(u[6],-i.u_HueVariance,i.u_HueVariance)),e.s,e.v],f(u[10]>.5),.35*u[13]),s=B([C(e.h,l(u[7],-i.u_HueVariance,i.u_HueVariance)),e.s,e.v],f(u[11]>.5),.35*u[14]),t=B([C(e.h,l(u[8],-i.u_HueVariance,i.u_HueVariance)),e.s,e.v],f(u[12]>.5),.35*u[15]),n=B([C(e.h,l(u[9],-i.u_HueVariance,i.u_HueVariance)),e.s,e.v],f(u[13]>.5),.35*u[16]);V&&(r[1]*=i.uDR[5],s[1]*=i.uDR[6],t[1]*=i.uDR[7],n[1]*=i.uDR[8]),F(i.uBCS[0],i.uBC,r),F(i.uBCS[1],i.uBC,s),F(i.uBCS[2],i.uBC,t),F(i.uBCS[3],i.uBC,n)}u=i.uOR,r=S.orbs.s,s=S.orbs.v,e={h:C(i.u_Hue,u[0]>.5?.15*u[1]+.15:-.15*u[1]-.15),s:l(u[3],r[0],r[1]),v:l(u[3],s[0],s[1])},2===i.u_ColorTheory&&u[2]>.5&&(e.h=C(e.h,.5)),n(e);let o=[C(e.h,l(u[3],.2*-i.u_HueVariance,.2*i.u_HueVariance)),e.s,e.v],P=B([C(e.h,l(u[7],-.5,.5)),e.s,e.v],0,.85+.15*u[10]),h=B([C(e.h,l(u[8],-.5,.5)),e.s,e.v],1,.65+.25*u[11]),A=B([C(e.h,l(u[9],-.5,.5)),e.s,e.v],0,.65+.25*u[12]),x=o,b=P,L=h,M=A;if(2===i.uOM){let e=(u[13]>.5?1:-1)*i.uOV,r=f(u[14]>.5);x=B([C(x[0],e),x[1],x[2]],r,l(u[15],.05,.15)),b=B([C(b[0],e),b[1],b[2]],r,l(u[15],.05,.15)),L=B([C(L[0],e),L[1],L[2]],r,l(u[15],.05,.15)),M=B([C(M[0],e),M[1],M[2]],r,l(u[15],.05,.15))}V&&(o[1]*=i.uDR[9],P[1]*=i.uDR[10],h[1]*=i.uDR[11],A[1]*=i.uDR[12],x[1]*=i.uDR[13],b[1]*=i.uDR[14],L[1]*=i.uDR[15],M[1]*=i.uDR[16]),i.uOTC=Array(12).fill(0),i.uOBC=Array(12).fill(0),F(0,i.uOTC,o),F(1,i.uOTC,P),F(2,i.uOTC,h),F(3,i.uOTC,A),F(0,i.uOBC,x),F(1,i.uOBC,b),F(2,i.uOBC,L),F(3,i.uOBC,M),u=i.uRR,r=S.rings.s,s=S.rings.v,e={h:C(i.u_Hue,u[1]>.5?.15*u[2]+.15:-.15*u[2]-.15),s:l(u[0],r[0],r[1]),v:l(u[0],s[0],s[1])},n(e),2===i.u_ColorTheory&&u[2]>.5&&(e.h=C(e.h,.5));let g,y,v,d,D=i.u_HueVariance,O=B([C(e.h,l(u[4],-D,D)),e.s,e.v],f(u[8]>.5),.15+.35*u[12]),m=B([C(e.h,l(u[5],-D,D)),e.s,e.v],f(u[9]>.5),.15+.35*u[13]),U=B([C(e.h,l(u[6],-D,D)),e.s,e.v],f(u[10]>.5),.15+.35*u[14]),H=B([C(e.h,l(u[7],-D,D)),e.s,e.v],f(u[11]>.5),.15+.35*u[15]),E=B([C(e.h,l(u[16],-D,D)),e.s,e.v],f(u[20]>.5),.15+.35*u[24]),z=B([C(e.h,l(u[17],-D,D)),e.s,e.v],f(u[21]>.5),.15+.35*u[25]),X=B([C(e.h,l(u[18],-D,D)),e.s,e.v],f(u[22]>.5),.15+.35*u[26]),w=B([C(e.h,l(u[19],-D,D)),e.s,e.v],f(u[23]>.5),.15+.35*u[27]),k=1===i.uRMD,I=f(k),W=f(!k),N=k?.25:.35,j=k?.35:.25,K=p((.1+u[36]*i.u_HueVariance+u[37]*i.uRV)*(u[38]>.5?-1:1),0,1);2===i.u_ColorTheory&&u[49]>.5&&(K=C(K,.5)),g=[B(O,I,N+u[28]*j),B(m,I,N+u[30]*j),B(U,I,N+u[32]*j),B(H,I,N+u[34]*j)],y=[B([C(E[0],K),E[1],E[2]],W,N+u[39]*j),B([C(z[0],K),z[1],z[2]],W,N+u[40]*j),B([C(X[0],K),X[1],X[2]],W,N+u[41]*j),B([C(w[0],K),w[1],w[2]],W,N+u[42]*j)];let G=o[2]>.625?.1:-.1;for(let u=0;u<4;u++)g[u][1]=p(g[u][1]-G,0,1),g[u][2]=p(g[u][2]+G,0,1);if(2===i.uRTB||4===i.uRTB){let e=.2*i.uRV*(u[50]>.5?1:-1),r=f(u[51]>.5);O=B([C(O[0],e),O[1],O[2]],r,l(u[52],.05,.2)),m=B([C(m[0],e),m[1],m[2]],r,l(u[52],.05,.2)),U=B([C(U[0],e),U[1],U[2]],r,l(u[52],.05,.2)),H=B([C(H[0],e),H[1],H[2]],r,l(u[52],.05,.2)),E=B([C(E[0],e),E[1],E[2]],r,l(u[52],.05,.2)),z=B([C(z[0],e),z[1],z[2]],r,l(u[52],.05,.2)),X=B([C(X[0],e),X[1],X[2]],r,l(u[52],.05,.2)),w=B([C(w[0],e),w[1],w[2]],r,l(u[52],.05,.2))}v=[B(O,I,N+u[29]*j),B(m,I,N+u[31]*j),B(U,I,N+u[33]*j),B(H,I,N+u[35]*j)],d=[B([C(E[0],K),E[1],E[2]],W,N+u[43]*j),B([C(z[0],K),z[1],z[2]],W,N+u[44]*j),B([C(X[0],K),X[1],X[2]],W,N+u[45]*j),B([C(w[0],K),w[1],w[2]],W,N+u[46]*j)],G=x[2]>.625?.1:-.1;for(let u=0;u<4;u++)v[u][1]=p(v[u][1]-G,0,1),v[u][2]=p(v[u][2]+G,0,1);if(3===i.uRTB||4===i.uRTB){let u=v;v=d,d=u}i.uRTC=Array(96).fill(0),i.uRBC=Array(96).fill(0);for(let e=0;e<8;e++){let r=[...g],s=[...v];7===e&&(r=[...y],s=[...d]);let n=e\/8;for(let a=0;a<4;a++){let c=e+a;2===i.uRM?(r[a]=B([C(r[a][0],e*(.1*i.uRV+.05*u[100+c])),T(r[a][1],y[a][1],n),T(r[a][2],y[a][2],n)],f(u[101+c]),l(u[102+c],-.1,.1)),s[a]=B([C(s[a][0],e*(.1*i.uRV+.05*u[200+c])),T(s[a][1],y[a][1],n),T(s[a][2],d[a][2],n)],f(u[133+c]),l(u[134+c],-.1,.1))):3===i.uRM&&(r[a]=B([C(r[a][0],e*(.2*i.uRV+.1*u[100+c])),T(r[a][1],y[a][1],n),T(r[a][2],y[a][2],n)],f(u[101+c]),l(u[102+c],-.1,.1)),s[a]=B([C(s[a][0],e*(.2*i.uRV+.1*u[132+c])),T(s[a][1],y[a][1],n),T(s[a][2],d[a][2],n)],f(u[133+c]),l(u[134+c],-.1,.1)),r[a]=B([C(r[a][0],.2*i.uRV*u[200+c]*(u[232+c]<.5?-1:1)+(2===t&&u[164+c]<.8?.5:0)),T(r[a][1],y[a][1],n),T(r[a][2],y[a][2],n)],f(u[264+c]<.5),u[296+c]*i.uRV*.1),s[a]=B([C(s[a][0],.2*i.uRV*u[300+c]*(u[332+c]<.5?-1:1)+(2===t&&u[196+c]<.8?.5:0)),T(s[a][1],y[a][1],n),T(s[a][2],d[a][2],n)],f(u[364+c]<.5),u[396+c]*i.uRV*.1));let p=i.uRTS[e][a],R=i.uRBS[e][a],S=u=>{let r=0;return 0===u&&(r=-.4),1===u&&(r=.4),2===u&&(r=-.4),3===u&&(r=.4),r*i.uAR[e]};r[a]=B([r[a][0],r[a][1],r[a][2]],f(!0),S(p)*(1-.5*i.uRV)),s[a]=B([s[a][0],s[a][1],s[a][2]],f(!0),S(R)*(1-.5*i.uRV)),V&&(r[a][1]*=i.uDR[10+c],s[a][1]*=i.uDR[50+c]),F(p+4*e,i.uRTC,r[a]),F(R+4*e,i.uRBC,s[a])}}}draw(){this.update(),this.render(this.PR),this.post(this.PP)}prepass(u){u.use(),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),r.BVA(u.VA)}postpass(){r.BVA(s),r.BB(r.AB,s),r.BB(r.EAB,s),r.BFB(s)}render(u){this.prepass(u),r.BFB(this.FB),r.U2v(u.uR,this.w,this.h),r.U1f(u.uA,i.uA),r.U1f(u.uCPS,i.uCPS),r.U3v(u.uFC,i.uFC),r.U1f(u.uRS,i.uRS),r.U1f(u.uOOT,i.uOOT+(1-i.uOOT)*F(i.uOS,.8,1.1,5,2)),r.U1f(u.uOOB,i.uOOB+(1-i.uOOB)*F(i.uOS,.8,1.1,3.5,2.25)),r.U1f(u.uOS,i.uOS),r.U3v(u.uOTCP,[i.uOTLP,i.uOTSP,i.uOTEL]),r.U3v(u.uOBCP,[i.uOBLP,i.uOBSP,i.uOBEL]),r.U1f(u.uB,i.uB),r.U1f(u.uBI,i.uBI),r.U1f(u.uBO,i.uBO),r.U4v(u.uRCTP,i.uRCTP),r.U4v(u.uRCBP,i.uRCBP),r.U4v(u.uRCR,i.uRCR),r.U1i(u.uLS,i.uLS),r.U1i(u.uLM,i.uLM),r.U1i(u.uLF,i.uLF),r.U3v(u.uLC,i.uLC),r.U4v(u.uLCP,i.uLCP),r.U4v(u.uLCR,i.uLCR.slice(4,8)),r.U1i(u.uRM,i.uRM),r.U3v(u.uRTC,i.uRTC),r.U3v(u.uRBC,i.uRBC),r.U1i(u.uBS,i.uBS),r.U3v(u.uBC,i.uBC),r.U4v(u.uBR,i.uBR.slice(19,27)),r.U3v(u.uOTC,i.uOTC),r.U3v(u.uOBC,i.uOBC),r.U1i(u.uCM,i.uCM),r.U1f(u.uGP,i.uGP),r.U1f(u.uGA,i.uGA),r.U1f(u.uGB,i.uGB),r.U1f(u.uGS,i.uGS),r.drawBuffers([r.C0]),r.viewport(Math.floor(this.w\/2),0,Math.ceil(this.w\/2),this.h),r.DW(),this.postpass()}post(u){this.prepass(u),r.U2v(u.uR,this.w,this.h),r.U1i(u.uT0,0),r.U1i(u.uT1,1),r.U1i(u.uCM,i.uCM),r.AT(r.TEXTURE0),r.BT(this.TR),r.AT(r.TEXTURE1),r.BT(this.TL),r.viewport(0,0,this.w,this.h),r.DW()}}})();"
}