{
  "kind" : "p5js100",
  "screensaverFileName" : "Amoeba",
  "value" : "var t=.002;p5.disableFriendlyErrors=!0;function r(){return Math.min(window.innerHeight,window.innerWidth)}function m(n){return n\/500*b*B}function a(n){var e,t=n.reduce(function(n,e){return n+e.A},0),o=f.int(0,t+1);for(e of n)if((o-=e.A)<=0)return e;return n[0]}function i(){resizeCanvas(window.innerWidth*B,window.innerHeight*B),c.canvas.style=\"position:fixed;left:0;top:0;width:100%;height:100%\"}function o(e,n){return[e].concat(n.map(function(n){n=Math.floor((e+n)%360);return n<0?360+n:n}))}var c,p,w,v,A,l,g,E,M,f,I={F:{1:[[1,1],[3,2]],2:[[2,2],[2,1]],3:[[1,2],[1,3]],4:[[0,1],[2,2]]},G:{5:[1,1],6:[2,2],7:[1,2],8:[3,2],9:[3,1]},I:{10:[1,1],11:[1,2],12:[2,0],13:[3,2]},H:{14:[30,90,60,90,60],15:[10,110,90,40,30],16:[20,40,60,90,90],17:[0,-140,60,60,90]},J:{18:[1,1],19:[-1,1],20:[1,-1],21:[-1,-1]}},s=[{B:[-5,5],A:24},{B:[180],A:24},{B:[45,-45],A:32},{B:[150,-150],A:24},{B:[120,-120],A:16},{B:[60,180,240],A:8}],u=[{A:32,E:function(n){circle(0,0,n)}},{A:12,E:function(n){n*=.8,square(0,0,n)}},{A:12,E:function(n){var e=n*k;triangle(0,e,n\/2,-1*e,n\/-2,-1*e)}},{A:4,E:function(n){n*=.8;var e=Math.abs(n\/2.25);square(0,0,n,e,0,e,0)}},{A:2,E:function(n){n\/=2,line(0,-n,0,n),line(-n,0,n,0)}},{A:2,E:function(n,e){e.setAlpha(192),stroke(e),e.setAlpha(10),fill(e),circle(m(80),0,n)}}],h=[{A:31,D:function(n){var e=o(n,a(s).B);w=e.map(function(n){return color(`hsl(${n}, 100%, 50%)`)}),v=color(`hsl(${n}, 70%, 4%)`),l=SCREEN,A=t}},{A:31,D:function(n){var e=o(n,a(s).B);w=e.map(function(n){return color(`hsl(${n}, 100%, 33%)`)}),v=color(`hsl(${n}, 40%, 99%)`),A=.0025,l=HARD_LIGHT}},{A:1,D:function(){w=[color(\"#000\"),color(\"#888\")],v=color(\"#fff\"),A=1.3*t,l=MULTIPLY}},{A:1,D:function(){w=[color(\"#fff\"),color(\"#777\")],v=color(\"#000\"),l=SCREEN}}],d=[-1,1],k=Math.sqrt(3)\/4,b=r(),B=1,D=(new Date).getTime(),H={};function setup(n){n=n||tokenData;var e,t,o=parseInt(n.hash.slice(0,16),16);f={rand:function(){return o^=o<<13,o^=o>>17,((o^=o<<5)<0?1+~o:o)%1e3\/1e3},float:function(n,e){return n+(e-n)*f.rand()},int:function(n,e){return Math.floor(f.float(n,e))},option:function(n){return n[f.int(0,n.length)]}},frameRate(60),c=createCanvas(window.innerWidth*B,window.innerHeight*B),i(),colorMode(RGB),window.addEventListener(\"resize\",function(){b=r(),i()}),window.addEventListener(\"keypress\",function(n){var e=parseInt(n.key);0<e&&e<5&&(B=1-(e-1)\/4,i()),\"s\"==n.key&&saveCanvas(\"amoeba.png\",\"png\")});for([e,t]of Object.entries(I))H[e]=f.option(Object.keys(t));p=f.float(0,1),g=a(u);n=f.int(0,360);a(h).D(n),blendMode(l),E=f.float(0,2*Math.PI),M=f.option(d)}function draw(){var n=window.innerWidth\/2*B,e=window.innerHeight\/2*B;clear(),v&&background(v),push(),translate(n,e),rotate(E),strokeWeight(A*b*B);for(var t=((new Date).getTime()-D)\/30,o=0;o<160;o++){var r=o\/160,a=(r+t\/30\/6)%1,i=(d=a,h=u=h=void 0,h=((u=Math.floor(w.length*d))+1)%w.length,d=w.length*d-u,u=w[u],h=w[h],lerpColor(color(u),color(h),d));noFill(),stroke(i);var c=I.G[H.G],l=I.F[H.F],f=I.H[H.H],s=I.I[H.I],u=I.J[H.J],h=1\/512,d=m(f[0])+m(f[1])*(sin(2*(t*l[0][0]*h+r*l[0][1]+p)*Math.PI)+1)+m(f[2])*(sin(2*(t*l[1][0]*h+r*l[1][1]+p)*Math.PI)+1),l=m(f[3])*sin(2*(u[0]*t*s[0]*h+r*c[0]+p)*Math.PI),c=m(f[4])*cos(2*(u[1]*t*s[1]*h+r*c[1]+p)*Math.PI);push(),translate(l,c),rotate(2*PI*a*M),g.E(d,i),pop()}pop()}\n"
}